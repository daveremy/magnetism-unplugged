@import "tailwindcss";

/* ── Design Tokens ─────────────────────────────────── */
:root {
  /* Paper & Ink */
  --paper:          oklch(0.97 0.008 75);
  --paper-warm:     oklch(0.94 0.015 75);
  --ink:            oklch(0.25 0.02 50);
  --ink-muted:      oklch(0.45 0.015 50);
  --ink-faint:      oklch(0.65 0.01 50);
  --rule:           oklch(0.85 0.01 75);

  /* North Pole — warm accent */
  --north:          oklch(0.55 0.22 25);
  --north-soft:     oklch(0.92 0.04 25);
  --north-vivid:    oklch(0.62 0.25 25);

  /* South Pole — cool accent */
  --south:          oklch(0.50 0.15 250);
  --south-soft:     oklch(0.93 0.04 250);
  --south-vivid:    oklch(0.58 0.18 250);

  /* Functional */
  --success:        oklch(0.55 0.18 145);
  --success-soft:   oklch(0.93 0.04 145);
  --caution:        oklch(0.70 0.16 85);
  --caution-soft:   oklch(0.95 0.04 85);
  --myth:           oklch(0.55 0.18 25);
  --myth-soft:      oklch(0.95 0.03 25);
  --experiment:     oklch(0.50 0.15 310);
  --experiment-soft: oklch(0.94 0.04 310);

  /* Typography */
  --text-hero:    clamp(2.5rem, 5vw, 3.5rem);
  --text-h1:      clamp(1.875rem, 3vw, 2.5rem);
  --text-h2:      clamp(1.5rem, 2.5vw, 1.875rem);
  --text-h3:      1.25rem;
  --text-body:    1.0625rem;
  --text-sm:      0.9375rem;
  --text-xs:      0.8125rem;

  /* Spacing & Radius */
  --radius-sm:    0.375rem;
  --radius-md:    0.625rem;
  --radius-lg:    1rem;
  --radius-xl:    1.5rem;
  --content-max:  42rem;
  --sidebar-w:    17rem;
}

@theme inline {
  --color-paper:          var(--paper);
  --color-paper-warm:     var(--paper-warm);
  --color-ink:            var(--ink);
  --color-ink-muted:      var(--ink-muted);
  --color-ink-faint:      var(--ink-faint);
  --color-rule:           var(--rule);
  --color-north:          var(--north);
  --color-north-soft:     var(--north-soft);
  --color-north-vivid:    var(--north-vivid);
  --color-south:          var(--south);
  --color-south-soft:     var(--south-soft);
  --color-south-vivid:    var(--south-vivid);
  --color-success:        var(--success);
  --color-success-soft:   var(--success-soft);
  --color-caution:        var(--caution);
  --color-caution-soft:   var(--caution-soft);
  --color-myth:           var(--myth);
  --color-myth-soft:      var(--myth-soft);
  --color-experiment:     var(--experiment);
  --color-experiment-soft: var(--experiment-soft);
  --font-serif: var(--font-source-serif);
  --font-sans:  var(--font-dm-sans);
  --font-mono:  var(--font-jetbrains-mono);
  --font-size-hero: var(--text-hero);
  --font-size-h1:   var(--text-h1);
  --width-sidebar:  var(--sidebar-w);
  --max-width-content: var(--content-max);
}

/* ── Base ───────────────────────────────────────────── */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  background: var(--paper);
  color: var(--ink);
  font-family: var(--font-sans), system-ui, sans-serif;
  font-size: var(--text-body);
  line-height: 1.75;
}

/* Grain texture overlay */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
}

::selection {
  background: var(--north-soft);
  color: var(--ink);
}

/* ── Focus ──────────────────────────────────────────── */
:focus-visible {
  outline: 2px solid var(--north);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* ── Prose — MDX content styling ────────────────────── */
.prose {
  color: var(--ink-muted);
}

.prose h2,
.prose h3 {
  font-family: var(--font-serif), Georgia, serif;
  font-weight: 600;
  color: var(--ink);
}

.prose h2 {
  font-size: var(--text-h2);
  line-height: 1.25;
  margin-top: 2.5rem;
  margin-bottom: 0.75rem;
}

.prose h3 {
  font-size: var(--text-h3);
  line-height: 1.3;
  margin-top: 2rem;
  margin-bottom: 0.5rem;
}

.prose p {
  margin-bottom: 1.25rem;
}

.prose ul,
.prose ol {
  margin-bottom: 1.25rem;
  padding-left: 1.5rem;
}

.prose ul {
  list-style-type: disc;
}

.prose ol {
  list-style-type: decimal;
}

.prose li {
  margin-bottom: 0.375rem;
  line-height: 1.75;
}

.prose strong {
  font-weight: 600;
  color: var(--ink);
}

.prose em {
  font-style: italic;
}

.prose hr {
  margin: 2.5rem 0;
  border: none;
  border-top: 1px solid var(--rule);
}

.prose a {
  color: var(--north);
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: color 0.15s;
}

.prose a:hover {
  color: var(--north-vivid);
}

.prose blockquote {
  border-left: 3px solid var(--rule);
  padding-left: 1rem;
  margin: 1.5rem 0;
  color: var(--ink-faint);
  font-style: italic;
}

.prose code {
  font-family: var(--font-mono), monospace;
  font-size: 0.875em;
  background: var(--paper-warm);
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  color: var(--ink);
}

.prose pre {
  background: var(--ink);
  color: var(--paper);
  padding: 1rem 1.25rem;
  border-radius: var(--radius-md);
  overflow-x: auto;
  margin: 1.5rem 0;
  font-size: var(--text-sm);
  line-height: 1.6;
}

.prose pre code {
  background: none;
  padding: 0;
  color: inherit;
}
